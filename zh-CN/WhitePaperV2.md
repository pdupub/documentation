# PDU 去中心化的SNS (version 2)
A decentralized identity-based social networking service

* email: hello@pdu.pub
* wechat: pengpengt00
* twitter: [@PDUPUB](https://twitter.com/pdupub)

[![License](https://img.shields.io/badge/license-GPL%20v3-blue.svg)](LICENSE)
[![Chat](https://img.shields.io/badge/gitter-Docs%20chat-4AB495.svg)](https://gitter.im/pdupub/Welcome)

**摘要：** 我们认为一个最接近自然状态的社交网络应当具备两个基础功能，任何参与者都能够**自由的传播信息**，同时也能够**有效的获取信息**。

第三方平台的存在，为这两个目的提供了极大的帮助，通过手机号，邮箱等身份认证方式，有效的防止了大量创建虚拟身份和无限制的信息传播；利用推荐算法及用户之间的关联，提高了使用者获取目标信息的效率。但同时，第三方平台本身对于信息传播的影响也越来越严重，限制用户权限，屏蔽言论，利用推荐机制扩大特定话题的传播范围。我们并不否定舆论的引导在某特定事件上存在的积极意义，只想表达对于**信息非自然传播**的担忧。

本文提出一种新的解决方案，基于P2P的方式构建社交网络服务。网络中的每一条信息均由签名确定其来源，称为消息。通过消息之间的引用，同源消息可以构成全序关系，异源消息构成偏序关系。以消息为基础，使用者可以自由的创建社区规则，并基于自我认同，邀请他人参与自己所在的社区。社区内的用户均存在偏序的关联，使用者可以基于这种关联关系，以身份为标志对信息，及其关联身份的信息进行筛选。

<!-- MarkdownTOC depth=4 autolink=true bracket=round list_bullets="-*+" -->
- [简介](#简介)
  * [现状](#现状)
  * [目标](#目标)
- [消息](#消息)
- [个体](#个体)
- [社区](#社区)
- [网络传播](#网络传播)
- [奖惩激励](#奖惩激励)
- [隐私](#隐私)
- [计算](#计算)
- [总结](#总结)
- [FAQ](#faq)
<!-- /MarkdownTOC -->

## 简介

### 现状

在人类产生了**语言**之后，便开始了最原始的信息传播，即口耳相传。将看到的，听到的，感受到的信息，自愿选取后通过语言的形式传递给他人。如此往复，信息便能在人群中流转。**文字**的发明进一步拓展了信息传播的边界，无论在时间维度，还是空间维度。当今，随着**网络**的发展，信息传播的效率有了质的变化，基本摆脱了时间与距离的桎梏，只取决于自身的意愿。

但如同古代信件的传递依赖邮政系统，现今网络中信息的传播大多依赖于一个强大的第三方中心化服务，如Facebook、Twitter、微信、微博等社交网络服务。其存在毋庸置疑给使用者带来了极大的便利，但问题也逐渐显露。这个三方的中心化服务有能力按照自身的意愿，对信息的传播做出决定性的影响，比如有倾向性的增大或减小某个类别信息的传播受众，直接封禁或删除某些用户，同时对于另一些单一信息来源的用户无所作为等等。诸多问题最终可以归于一点，即第三方平台完全有能力影响信息的自然传播，其影响的程度，只能依赖于平台自身的行为准则。

信息传播中对于第三方服务的依赖和受其影响是必然共存的，如果希望信息的传播能够回归其本身的形态，更接近于自然传播，那必然需要抛弃对于第三方平台的依赖。也等同于需要解决在点对点的环境中，实现对于信息及用户的有效筛选。

### 目标

我们认为，一个自然的信息传播系统应具备两个基础功能：

1. 任何参与者都能够**自由的传播信息**。
2. 任何参与者都能够**有效的获取信息**。

本文参照现实中原始的自然的信息传播方式，提出一种新的解决方案，使得信息传播的过程能够摆脱对于第三方中心化服务的依赖。首先，系统中的每一条消息必须附加数字签名，以鉴别信息的来源。消息之间通过引用，可构建出全系统的一个或多个偏序关系。同时，来自同一私钥签名的消息通过引用构成全序关系。通过发布特定类型消息，任何使用者可以自由创建社区，指定创建规则。属于某个特定社区的使用者，均可通过特定类型的消息，以邀请的形式为自身所属的社区添加成员。人员所属的社区，社区中人员之间的邀请关系，将成为信息筛选的主要形式。

对于本文后续所述的信息传播系统，我们还提出两个前提设定：首先，系统中所有信息都是公开的。我们可以简单的理解为保密的信息不是本系统解决的目标，但可以基于本系统解决。第二，系统的参与者都以信息传播最大化为唯一目的，且即包含时间尺度，也包含空间尺度。（两个设定的深入讨论可见附录中的相关文档，请见[草稿](Draft.md)）

## 消息

消息是系统中最基础的数据结构，也是点对点质检交互的唯一数据类型。系统使用过程中，涉及到的其他数据类型，如用户、社区等，均可由使用者以本地消息为基础自行构建。每条消息均包含3个组成部分，消息内容(Message contents)，引用列表(References)，签名(Signature)。

**消息内容**是消息的主题，有消息类型和多个内容片断构成。目前系统中包含5种消息类型。
* 一般信息消息(Info)是主要的消息类型，用于发布使用者希望通过此系统传播的信息。
* 个人资料设定(Profile)用于使用者设定自身属性，对于同一属性，后续设定更新属性。
* 社区属性定义(Community)用于设定新的社区规范，比如邀请限制等。
* 加入社区邀请(Invitation)用于发出对于其他使用者加入某特定社区的邀请。
* 结束生命周期(End)用于当使用者因某种原因(如私钥泄露)，希望系统能够忽略其后续消息时使用。

**引用列表**中可包含多条其他消息的签名，用以确定消息之间的有序关系。

后续的消息，可将任意已知的消息签名放入本消息体当中，再计算hash后签名。这样可以证明本消息必然发生于被引用的消息之后。在使用过程中，推荐在消息体中至少包含一条比较新的消息，目的是给本消息一个更精确的可信范围。

同一来源的消息，应确保通过引用的方式，使得所有消息间构成全序关系，即任意两条被同一私钥签名的消息，都有确定的先后顺序。不同来源的消息可借助相互的引用，构成一个或者多个偏序关系，可用有向无环图(DAG)表示。

**签名**的存在首先可以对消息来源进行身份认证，同时确定消息内容的完整性。消息签名还可以替代hash值，被放入后续消息的引用列表中，表示有序关系。

![msgs](../res/MsgLink.jpeg)

上图展示每个消息的构建及引用关系。


## 个体

私钥属于鉴权，含义是所有消息的有序叠加，唯一目的是扩大自身的影响力，其和后续的奖惩相关。

及对外部的单一行为，即全序的消息序列。

![msgs](../res/Individual.jpeg)

在系统中强调个体。个体并非指那个私钥，而是这个私钥所添加签名的所有消息叠加而成。相当于在真实世界中，一个人从出生至今所做的行为，按照有序的组合成就了现在的这个**人**。

## 社区

社区是去中心化系统实现的必要部分。含义是基于自我的认同。而且社区是对于身份（私钥）来界定的，而非消息。

1. 任意创建，可定义邀请的规则，比如一个用户最多邀请几个人，至少要收到几个邀请才能加入等
2. 必须由现有成员邀请加入。（包含创建者）
3. 一个用户在某个社区中的含义是这个用户被这个社区的规则所认同，而并非这个用户认同这个社区，也不是这个社区中的所有用户都认同这个用户。（所以用户无法，也无必要退出一个社区）
4. 用户为了自身的信息筛选，可以自主的屏蔽任何社区中的任何人，维护消极自由。
5. 社区内的用户总是平等的，包含创建者在内，在一个存在的社区内，没有任何特殊。
6. 任何用户都可以同时属于多个社区。
7. 社区之间只存在由用户带来的的树状层级关系，而非消息与消息之间或用户与用户之间的DAG的关系。而且可以存在不以任何社区为基础的社区。

## 网络传播

个体可以自由选择如何处理收到的信息，如接收（保存），拒绝（屏蔽）或者传播（转发）。

每个节点都不要求有全量的信息，而可以只有部分信息。（前面提到，pdu并非强调一致性），但通常信息源应至少保存自身的全量信息已提供，这符合第一章中提到的核心目标，自身信息传播的最大化。

传播时，每个节点可以记录当前消息的转发数，并可以将转发数作为是否转发当前消息的一个条件。

传播过程支持平台化节点的存在，他们可以存储更多的消息，并未用户提供消息查询等服务，但区别于中心化的第三方平台，消息属于用户本身，即消息发布者，所以用户可以自由的使用任何一个第三方平台，而获取到相同的信息。当然，任何平台也有对任何信息按照自身意愿屏蔽的自由。

对于是否接收某个消息，取决于：
1. 消息签名者。
2. 消息引用所代表的时间，倾向于时间更近的。

对于是否转发某个消息，取决于：
1. 对消息本身的态度，相当于点赞和订阅等。
2. 自身的转发规则，倾向于转发少的。

这些转发，传播是动态的行为。

## 奖惩激励

奖励即帮助消息扩散，惩罚即自身对齐消息屏蔽。

奖惩的行为对于所有使用者来说都是平等的，我们可以用转发一个用户的消息来奖励用户（符合唯一目的），也可以通过屏蔽某用户的所有消息对其进行惩罚。奖惩完全取决于每个用户对其他用户的主观意愿。

在下面计算章节[计算](#计算)中可以看到，如果在一个平均转发数为3次转发的系统中，一个被大多数人屏蔽的消息和另一个被大多数人接受的用户在信息传播方面的区别。

传播与否与用户所在的社区并没有直接关系，但是会有间接的影响，比如某用户因为属于某个特定的社区而被更广的接受。社区是用来让使用者用于筛选信息。

## 隐私

隐私不属于这个系统当中。

首先任何传播过的消息都会留下痕迹，而未留下痕迹的信息本身也不存在，因为其并未对系统产生影响。信息的传播的速度和广度取决于信息本身，隐私只是公开程度限于某个暂时的，且无法保证的臆想。其后果往往不是信息的保密，而是变形后扩散。

保护隐私的偏好来源于思维方式的局限，认为整体的利益破坏在于整体对于隐私的探查，但我们认为不公来源于并非所有的消息都**同等**程度的完全**公开**，现实中只有部分的个体的信息能够被另一部分个体所知，反之而不可能。对于这种认知更多的讨论可见[《广义心理史学》](GeneralPsychohistory.md)。真正的隐私只有个体心中从未表达过的信息，其不需要任何系统以任何形式进行保护。而公开的，有过传播的信息，都应该被准确的记录、公开。

对于通常意义上的隐私信息，我们认为其不直接属于这个系统。对于涉及隐私的文章，不要创建消息，即使是以加密的形式，因为在别人看来无意义的信息会影响用户其他信息的传播。对于涉及隐私的通讯，可以以消息的形式公布自己的联系地址，再通过其他方式进行联系。

## 计算

具体计算几种不同的场景。

1. 正常的用户随着使用，其信息的扩散。

2. 非正常的用户，随着使用，其消息的扩散程度。

3. 过度传播（转发）对于用户本身的影响。

## 总结

通过自由创建社区及用户之间必须存在的有向关联关系，解决了在点对点的信息传播过程中，信息源无法筛选，信息泛滥的问题。让使用者可以在海量的数据中，只选取自己希望获取的部分。

点对点的系统本身就保证了用户的积极自由，任何人可以随意发布信息。同时，这个系统也给与了用户保护自身消极自由的权利，减少用所受冗余数据的影响。

与现今主流的保护用户隐私的想法不同，我们认为任何发生在不同个体间的信息交流，都会留下存在的痕迹。现今的问题根本上源于个体间信息披露的程度不同，当所有信息均被记录和公开时，谎言将会消失，活在当下将成为过去，我们将完成“时间”这个维度的升级。

## FAQ

1. 更多的相关内容

* [《草稿》](Draft.md) 未整理，主要是在Zen r0.2 到 r0.3之间的一些笔记，有时间顺序。
* [《广义心里史学》](GeneralPsychohistory.md) 未完成，准备以《草稿》为基础整理。
* [《PUD之禅》](Zen.md) 简单的几句核心想法。

2. PDU的实现

[go-pdu](https://github.com/pdupub/go-pdu)

